# è¨€èª - ES20xx / TypeScript

ç­†è€…: æµ·è€åŸ è³¢æ¬¡ï¼ˆkenji.ebihara@jrits.ricoh.co.jpï¼‰  
ä½œæˆæ—¥: 2021-08-18  
æ›´æ–°å±¥æ­´:

- 2021-08-18: æ–°è¦ä½œæˆ

## æ¦‚è¦

ã“ã“ã§ã¯ã€JavaScript ã®è¨€èªè¦æ ¼ã§ã‚ã‚‹ ECMAScript ã¨ TypeScript ã«ã¤ã„ã¦æ›¸ã„ã¦ã„ã¾ã™ã€‚

ã¾ãŸã€JavaScript ã¯ã€ECMAScript ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ã«åˆã‚ã›ã¦ãã®æ©Ÿèƒ½ã‚‚è¿½åŠ ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€æœ€æ–°ã®ä»•æ§˜ã«ã¤ã„ã¦ã‚‚è¿°ã¹ã¾ã™ã€‚

## ECMAScript

JavaScript ã¯ã€Webãƒ–ãƒ©ã‚¦ã‚¶ã®é»æ˜æœŸã« Netscape ã¨ã„ã†ãƒ–ãƒ©ã‚¦ã‚¶ã«æ­è¼‰ã•ã‚ŒãŸã®ãŒå§‹ã¾ã‚Šã¾ã™ã€‚

ãã®ã‚ã¨IEã‚„ä»–ã®ãƒ–ãƒ©ã‚¦ã‚¶ã§ã‚‚æ¡ç”¨ã•ã‚Œã€Flash ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚„ Windowsã®ã‚·ã‚§ãƒ«ã¨ã—ã¦ã‚‚æ¡ç”¨ã•ã‚Œã¾ã—ãŸã€‚

ã—ã‹ã—ã€ãã‚Œãã‚Œç‹¬è‡ªã®ä»•æ§˜ãŒè¿½åŠ ã•ã‚ŒãŸã‚Šã€åŒã˜åå‰ã®ãƒ¡ã‚½ãƒƒãƒ‰ã§ã‚‚å‹•ä½œãŒç•°ãªã‚‹ãªã©ã€ã‹ãªã‚Šæ··ä¹±ã—ãŸæ™‚ä»£ãŒã‚ã‚Šã¾ã—ãŸã€‚

ãã®ãŸã‚ã€ECMAScript ã¨ã—ã—ã¦æ¨™æº–ã®è¦æ ¼ã‚’ä½œã‚‹ã“ã¨ã¨ãªã‚Šã¾ã—ãŸã€‚ECMAScript ã¯ã€è¦æ ¼ã®å®šç¾©ã§ã‚ã‚Šã€ã„ã‚ã°ä»•æ§˜æ›¸ã®ã‚ˆã†ãªã‚‚ã®ã§ã™ã€‚è¨€èªã§ã¯æœ‰ã‚Šã¾ã›ã‚“ã€‚

ç¾åœ¨ã®ãƒ–ãƒ©ã‚¦ã‚¶ã§ã¯ã€ã“ã® ECMAScript ã®ä»•æ§˜ã«å¾“ã£ã¦ä½œæˆã•ã‚Œã¦ãŠã‚Šã€ãƒ–ãƒ©ã‚¦ã‚¶é–“ã®å·®ç•°ã¯ã‹ãªã‚Šå°‘ãªããªã‚Šã¾ã—ãŸã€‚ã—ã‹ã—ã€ECMAScript ã¯æ¯å¹´æ›´æ–°ã•ã‚Œã€å„ãƒ–ãƒ©ã‚¦ã‚¶ã¯ãã‚Œã«è¿½ã„ã¤ã“ã†ã¨ã—ã¦ã„ã¾ã™ãŒã€ã‚„ã‚„ã°ã‚‰ã¤ããŒã‚ã‚Šã¾ã™ã€‚ç‰¹ã«æ–°ã—ã„ã®ä»•æ§˜ã«ã¤ã„ã¦ã¯æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚

ãƒ–ãƒ©ã‚¦ã‚¶ã®å¯¾å¿œçŠ¶æ³ã¯ã€ä¸‹è¨˜ã®ãƒšãƒ¼ã‚¸ã§ç¢ºèªã§ãã¾ã™ã€‚

[ECMAScript 2016+ compatibility table](http://kangax.github.io/compat-table/es2016plus/)

ECMAScript ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ã€2015å¹´ä»¥å‰ã¯ ES6 ãªã©ã®ç•ªå·ãŒã€2015å¹´ç§»è¡Œã¯ ES2020 ãªã©ç™ºè¡Œå¹´ãŒä»˜ãã¾ã™ã€‚

Node.js ã¯ã€ECMAScript ã«æ¯”è¼ƒçš„æ—©ã„æ®µéšã§å¯¾å¿œã•ã‚Œã‚‹ã®ã§ã€æœ€æ–°ã®ä»•æ§˜ã‚’è©¦ã—ãŸã„å ´åˆã«ã¯è‰¯ã„ã¨æ€ã„ã¾ã™ã€‚

[ECMAScript 2015 (ES6) ã¨ãã‚Œä»¥é™ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | Node.js](https://nodejs.org/ja/docs/es6/)

## TypeScript

JavaScript ã¯ã€è»½é‡ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæŒ‡å‘è¨€èªã§ã™ã€‚è»½é‡ãªã®ã§ã€ã™ãã«ä½œã£ã¦è©¦ã™ã€ã¨ã„ã†ã“ã¨ãŒã§ãã¾ã™ãŒã€è¦æ¨¡ãŒå¤§ãããªã‚‹ã¨ãã‚ŒãŒæ¬ ç‚¹ã¨ãªã‚Šã€å®‰å…¨æ€§ï¼ˆãƒã‚°ã®ç”Ÿã¿ã‚„ã™ã•ï¼‰ã‚„ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ€§ãŒéå¸¸ã«ä½ä¸‹ã—ã¾ã™ã€‚

TypeScript ã¯ã€Alterative JavaScript è¨€èªã¨å‘¼ã°ã‚Œã‚‹ã‚‚ã®ã§ã€å¤§è¦æ¨¡ã‚¢ãƒ—ãƒªã§ã‚‚é©ç”¨ã§ãã‚‹ã‚ˆã†ã«ã—ãŸã‚‚ã®ã§ã™ã€‚

TypeScript ã®ä»•æ§˜ã§æ›¸ã„ãŸã‚³ãƒ¼ãƒ‰ã‚’ã€JavaScript ã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ï¼ˆå¤‰æ›ï¼‰ã—ã¦ä½¿ç”¨ã—ã¾ã™ã€‚

ã–ã£ãã‚Šã¨ã€ä¸‹è¨˜ã®ã‚ˆã†ãªç‰¹å¾´ãŒã‚ã‚Šã¾ã™ã€‚

1. TypeScriptã§ã¯JavaScriptã¨åŒæ§˜ã®æ§‹æ–‡ãŒä½¿ãˆã‚‹

    TypeScript ã¯ã€ECMAScript ã®ä»•æ§˜ã«å‹å®šç¾©ãªã©ã®ç‹¬è‡ªä»•æ§˜ã‚’è¿½åŠ ã—ãŸã‚‚ã®ã«ãªã£ã¦ã„ã¾ã™ã€‚ã§ã™ã®ã§ã€JavaScript ã§æ›¸ã„ãŸã‚³ãƒ¼ãƒ‰ã¯ã€ãã®ã¾ã¾ TypeScript ã«ã‚‚ãªã‚Šã¾ã™ã€‚  
    ã“ã®ã“ã¨ã§ã€é–‹ç™ºè€…ã®å­¦ç¿’ã‚³ã‚¹ãƒˆã¯å¤§ããæœ‰ã‚Šã¾ã›ã‚“ã€‚

2. JavaScriptã¯å‹•çš„å‹ä»˜ã‘ã€TypeScriptã¯é™çš„å‹ä»˜ã‘

    TypeScript ã¯ã€å³å¯†ã«å‹ãƒã‚§ãƒƒã‚¯ã•ã‚Œã¾ã™ã€‚ä¾‹ãˆã°ã€æ–‡å­—åˆ—ã‚’å…¥ã‚ŒãŸå¤‰æ•°ã«ã€æ•°å€¤ã‚’å…¥ã‚Œã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚ï¼ˆã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ï¼‰  
    ã¾ãŸã€Null Safety ã«ã‚‚æ›¸ã‘ã‚‹ã®ã§ã€ã‚ˆãã‚ã‚‹ null / undefined ã®ã‚¨ãƒ©ãƒ¼ã‚‚ä½æ¸›ã§ãã¾ã™ã€‚

3. ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã‚’é€šã™ã®ã§ã€äº‹å‰ã«æ§‹æ–‡ãƒã‚§ãƒƒã‚¯ãŒè¡Œãˆã‚‹

    ä¸Šã«æ›¸ã„ãŸã‚ˆã†ãªé–“é•ã„ã¯ã€JavaScriptã§ã¯å®Ÿè¡Œæ™‚ã§ãªã„ã¨ã‚ã‹ã‚Šã¾ã›ã‚“ã—ã€ãã‚Œã ã‘ã§ã¯ã‚¨ãƒ©ãƒ¼ã«ã‚‚ãªã‚‰ãªã„ã®ã§ã€åŸå› ã®è¿½è·¡ãŒé›£ã—ã„å ´åˆãŒå¤šã„ã§ã™ã€‚  
    TypeScript ã¯ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«ãã†ã„ã£ãŸã‚‚ã®ã‚’ã‚¨ãƒ©ãƒ¼ã¨ã—ã¦æ¤œçŸ¥ã™ã‚‹ã®ã§ã€äº‹å‰ã«åˆ¤æ˜ã§ãã‚‹ã®ã§ã€å®‰å…¨ãªã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãŒã§ãã¾ã™ã€‚

4. TypeScriptã§ã¯ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ãªã©å‹å®šç¾©ã®ä½œæˆãŒã§ãã‚‹

    å‹å®šç¾©ã¨ã—ã¦ã€JavaScript ã®ãƒ“ãƒ«ãƒ‰ã‚¤ãƒ³ã®ã‚¿ã‚¤ãƒ—ã ã‘ã§ãªãã€Java ã‚„ C# ã®ã‚ˆã†ãªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®å®šç¾©ãŒã§ãã¾ã™ã€‚  
    å¤‰æ•°ã§ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ãŒå‰²ã‚Šå½“ã¦ã‚‰ã‚Œã‚‹ã¨ã€

ES20xx ã‚’ã€€ES5ï¼ˆå¤ã„ãƒ–ãƒ©ã‚¦ã‚¶å¯¾å¿œï¼‰ã«å¤‰æ›ï¼ˆãƒˆãƒ©ãƒ³ã‚¹ãƒ‘ã‚¤ãƒ«ï¼‰ã—ãŸã‚Šã€ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ãƒãƒ³ãƒ‰ãƒ«ã™ã‚‹æ©Ÿèƒ½ã¯ãªã„ã®ã§ã€Webãƒ–ãƒ©ã‚¦ã‚¶ã‚¢ãƒ—ãƒªã®å ´åˆã¯ webpack ãªã©ã§è§£æ±ºã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

å³å¯†ãªå‹å®šç¾©ãŒã•ã‚Œã‚‹ã“ã¨ã§ã€ãƒã‚°ã‚’æœªç„¶ã«é˜²ãã“ã¨ãŒã§ãã‚‹ã¨ã¨ã‚‚ã«ã€ã‚¨ãƒ‡ã‚£ã‚¿ã®å…¥åŠ›æ”¯æ´ã‚’å—ã‘ã‚„ã™ãã‚‚ãªã‚Šã¾ã™ã€‚ã“ã‚Œã®æœ‰ç„¡ã«ã‚ˆã£ã¦é–‹ç™ºåŠ¹ç‡ãŒå¤§ããå¤‰ã‚ã‚Šã¾ã™ã€‚

## æ¼”ç¿’

### ECMAScript

ECMAScript ã§å¤§ããå¤‰ã‚ã£ãŸã€ES2015ä»¥é™ã®ä»•æ§˜ã«ã¤ã„ã¦ã€ç¢ºèªã—ã¦ã„ãã¾ã—ã‚‡ã†ã€‚

#### å¤‰æ•°ã¨å®šæ•°

JavaScriptã§ã¯å¤‰æ•°ã®å®£è¨€ã¯ã€`var` ã§ã—ãŸãŒã€`let`, `const` ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚

ã“ã‚Œã«ã‚ˆã‚Šã€`var` ã®ä»•æ§˜ã¯éæ¨å¥¨ã«ãªã£ã¦ã„ã¾ã™ã€‚

`let` ã¯ã€å€¤ã‚’å…¥ã‚Œæ›¿ãˆã‚‹ã“ã¨ãŒã§ãã‚‹å¤‰æ•°ã€`const` ã¯å…¥ã‚Œæ›¿ãˆã‚‰ã‚Œãªã„å¤‰æ•°ã§ã™ã€‚

æ„å¤–ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€æ®†ã©ã®å ´åˆ `const` ã§è³„ãˆã¾ã™ã€‚åŸºæœ¬çš„ã«ã¯`const`ã‚’ä½¿ã„ã€å¿…è¦ãªå ´åˆã« `let` ã‚’ä½¿ã†ã€ã®ãŒæ¨å¥¨ã•ã‚Œã¦ã„ã¾ã™ã€‚ESLint ã§ã‚‚ãã†ã„ã£ãŸãƒ«ãƒ¼ãƒ«ãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã«ãªã£ã¦ã„ã¾ã™ã€‚

å‹˜é•ã„ã—ã‚„ã™ã„ã®ã¯ã€`const`ã§å®šç¾©ã—ãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å€¤ã¯å¤‰ãˆã‚‰ã‚Œã‚‹ã€ã¨ã„ã†ã“ã¨ã§ã™ã€‚ã“ã‚Œã¯ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆè‡ªä½“ã¯åŒã˜ã‚‚ã®ã€ã ã‹ã‚‰ã§ã™ã€‚ã¡ãªã¿ã«ã€å†…å®¹ãŒå…¨ãä¸€ç·’ã ã‘ã©åˆ¥ã«å®šç¾©ã—ãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯åŒä¸€ã§ã¯ãªã„ã®ã§ã€ä»£å…¥ã§ãã¾ã›ã‚“ã€‚

```js
let l = "a";
l = "b"; // ğŸ‘ OK

const c = "a";
c = "b"; // âŒ ã‚¨ãƒ©ãƒ¼

const o = { name: "ebihara" };
o.name = "kenji"; // ğŸ‘ OK
o = { name: "kenji" }; // âŒ NG
```

#### arrowé–¢æ•°

é–¢æ•°ã¯ã€function ã‚’ä½¿ã£ã¦å®šç¾©ã—ã¾ã™ãŒã€ä¸‹è¨˜ã®ã‚ˆã†ãªæ›¸ãæ–¹ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

```js
function hoge(a) {
  console.log(a);
}

const hoge = (a) => {
  console.log(a)
};
```

JavaScript ã§ã¯ã€Function ã¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æ‰±ã„ãªã®ã§ã€å¤‰æ•°ã®ã‚ˆã†ã«é–¢æ•°ã®å¼•æ•°ã«æŒ‡å®šã§ããŸã‚Šã—ã¾ã™ã€‚Arrowé–¢æ•°ã®ã»ã†ãŒãã®ã“ã¨ãŒç›´æ„Ÿçš„ã«ã‚ã‹ã‚Šã‚„ã™ã„ã¨æ€ã„ã¾ã™ã€‚

ã“ã®2ã¤ã¯ **ã»ã¼** åŒã˜ã§ã™ãŒã€'this' ã®å–ã‚Šæ‰±ã„ãŒç•°ãªã‚‹ã®ã§ã€æ³¨æ„ã§ã™ã€‚

é€šå¸¸ã® function ã ã¨ã€å‘¼ã³å‡ºã—â½…ã«ã‚ˆã£ã¦ 'this' ã®å†…å®¹ãŒç•°ãªã‚Šã¾ã™ã€‚

arrow é–¢æ•°ã§ã‚ã‚Œã°ã€this ã¯æ›¸ã„ãŸã¨ã“ã‚ã® 'this' ã«æ‹˜æŸã•ã‚Œã‚‹ã€‚

arrow é–¢æ•°ã®ã»ã†ãŒã€ã‚ã‹ã‚Šã‚„ã™ã„ã®ã§ function ã¯ã§ãã‚‹ã ã‘ ä½¿ã‚ãªã„ ã»ã†ãŒè‰¯ã„ã§ã™ãŒã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆå¾Œè¿°ã™ã‚‹ã‚¯ãƒ©ã‚¹ã‚‚åŒæ§˜ï¼‰ã«é–¢ã—ã¦ã¯ã€this ã®å–ã‚Šæ‰±ã„ã¯ function ã§ãªã„ã¨æ­£ã—ãæœ‰ã‚Šã¾ã›ã‚“ã€‚

```js
// ğŸ‘ æ­£ã—ã„
const o = {
  name: 'hoga',
  setName(s) { this.name = s },
}
o.setName('fuga');
console.log(o.name); // -> 'fuga';

// âŒ NG
const o = {
  name: 'hoga',
  setName: (s) => { this.name = s },
}
o.setName('fuga');
console.log(o.name); // -> 'hoge';
// ã“ã®ã¨ãã® this ã¯ã€ã‚°ãƒ­ãƒ¼ãƒãƒ«ã® this = window ã«ãªã‚Šã¾ã™ã€‚
console.log(window.name); // -> 'fuga';
```

#### ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒªãƒ†ãƒ©ãƒ«

â½‚å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«ã¨ã—ã¦ã€ '"ãƒ€ãƒ–ãƒ«ã‚¯ã‚©ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³"' ã¨ ''ã‚·ãƒ³ã‚°ãƒ«ã‚¯ã‚©ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³'' ãŒä½¿ã‚ã‚Œã¾ã™ã€‚

ã“ã‚Œã«åŠ ãˆã€ '`ãƒãƒƒã‚¯ã‚¯ã‚©ãƒ¼ãƒˆ`' ã‚‚â½‚å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«ã¨ã—ã¦åˆ©â½¤ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸãŒã€ã“ã‚Œã¯ã€æ”¹è¡Œã‚’å«ã‚“ã ã‚Šã€å†…éƒ¨ã§å¤‰æ•°ã‚’åŸ‹ã‚è¾¼ã‚“ã§å±•é–‹ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

```js
let name = 'ebihara kenji';
let date = new Date();
console.log(`ã“ã‚“ã«ã¡ã¯! ${name} ã•ã‚“!`); // -> ã“ã‚“ã«ã¡ã¯! ebihara kenji ã•ã‚“!
console.log(`ä»Šã¯ ${date.toString()} ã§ã™ã€‚ `); // -> ä»Šã¯ Tue Jun 12 2018 12:58:17 GMT+0900 ã§ã™ã€‚
// æ”¹è¡Œã‚‚ã„ã‘ã‚‹
console.log(`ä»Šã¯
${date.toString()}
ã§ã™ã€‚ `);
// â†“
// ä»Šã¯
// Wed Jun 13 2018 14:34:43 GMT+0900 (æ±äº¬ (æ¨™æº–æ™‚))
// ã§ã™ã€‚
// ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã—ãªã„ã§å‡ºåŠ›ã™ã‚‹
console.log(String.raw`æ”¹è¡Œã¯\nã§ã§ãã¾ã™`);
// æ”¹è¡Œã¯\nã§è¿”ã•ã‚Œã¾ã™ã€‚
```

æœ€å¾Œã®è¨˜è¿°ã¯ã€ ã‚¿ã‚°ä»˜ããƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ ã¨â¾”ã‚ã‚Œã‚‹ã‚‚ã®ã§ã™ã€‚String.raw ã¯é–¢æ•°ã§ã™ã€‚

ã“ã“ã§ã¯è©³ç´°ã¯èª¬æ˜ã—ã¾ã›ã‚“ãŒã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã¯ã“ã®å‘¼ã³æ–¹ã‚’ã™ã‚‹ã“ã¨ã‚‚æœ‰ã‚‹ã®ã§ã€ã“ã†ã„ã†æ›¸ãæ–¹ã‚‚æœ‰ã‚‹ã€ã¨è¦šãˆã¦ãŠã„ã¦ãã ã•ã„ã€‚

[ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒªãƒ†ãƒ©ãƒ« (ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ–‡å­—åˆ—) - JavaScript | MDN](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Template_literals#tagged_templates)

#### ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå¼•æ•°

é–¢æ•°ã®å¼•æ•°ã®å®£â¾”ã§ã€å¼•æ•°ãŒæŒ‡å®šã•ã‚Œãªã„ã¨ãã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’æŒ‡å®šã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

```js
const hello = (name, keisho='ã•ã‚“') => {
console.log(`ã‚ˆã†ã“ã ${name} ${keisho}`);
}
hello('kenji'); // -> ã‚ˆã†ã“ã kenji ã•ã‚“
```

#### å¯å¤‰â»‘å¼•æ•°

é–¢æ•°ã®å¼•æ•°ã§ã€å¯å¤‰ã®æ•°ã®å¼•æ•°ã‚’å®£â¾”ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ãŸã ã—ã€ä»–ã®å¼•æ•°ã®æœ€å¾Œã«æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```js
const hello = (name, ...keisho) => {
  keisho.forEach(a => {
      console.log(`ã‚ˆã†ã“ã ${name} ${a}`);
  });
}
hello('kenji', 'ã•ã‚“', 'ã•ã¾', 'ãã‚“');
// ã‚ˆã†ã“ã kenji ã•ã‚“
// ã‚ˆã†ã“ã kenji ã•ã¾
// ã‚ˆã†ã“ã kenji ãã‚“
```

#### ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®åˆ†å‰²ä»£â¼Š

ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå†…ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ãã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¨åŒã˜åå‰ã®ãƒ­ãƒ¼ã‚«ãƒ«å¤‰æ•°ã§å‚ç…§ã™ã‚‹å ´åˆã€ç°¡å˜ã«æ›¸ãã“ã¨ãŒã§ãã¾ã™ã€‚ã¾ãŸã€ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒ undefined ã®å ´åˆã®åˆæœŸå€¤ã‚‚å®šç¾©ã§ãã¾ã™ã€‚

```js
const user = {
  name: 'kenji ebihara',
  age: 29,
  address: 'yoshino-cho kagosima-ken',
};
const {name, age=-1, gender="unknown"} = user;
console.log(name); // -> kenji ebihara
console.log(age); // -> 29
console.log(gender); // -> unknown 
```

é…åˆ—ã§ã‚‚åŒæ§˜ã«å—ã‘å–ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```js
const [first, second] = ['a', 'b', 'c']
console.log(`${first}, ${second}`); // "a, b"
```

#### ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰æ§‹æ–‡ï¼ˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å±•é–‹ï¼‰

ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå†…ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ã€"..."ã§åŒã˜åå‰ã®å¤‰æ•°ã«ã™ã¹ã¦å±•é–‹ã§ãã¾ã™ã€‚

å±•é–‹ã—ãŸå†…å®¹ã¯1éšå±¤ã‚³ãƒ”ãƒ¼ï¼ˆã„ã‚ã‚†ã‚‹ã‚·ãƒ£ãƒ­ãƒ¼ã‚³ãƒ”ãƒ¼ï¼‰ã§ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒå«ã¾ã‚Œã‚‹å ´åˆã€ãã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ã‚³ãƒ”ãƒ¼å…ƒã¨åŒã˜ã‚‚ã®ãŒå‚ç…§ã•ã‚‹ã®ã§ã€æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚

```js
const user = {
  name: 'kenji ebihara',
  age: 29,
  address: 'yoshino-cho kagosima-ken',
};
const assignUser = {
  ...user,
  assignData: new Date(),
}
console.log(assignUser);
/*
{
  "name": "kenji ebihara",
  "age": 29,
  "address": "yoshino-cho kagosima-ken",
  "assignData": "2018-06-12T04:39:46.354Z"
}
*/
```

é…åˆ—ã§ã‚‚åŒæ§˜ã®ã“ã¨ãŒã§ãã¾ã™ã€‚é…åˆ—ã®ãƒãƒ¼ã‚¸ã‚„åŒã˜å€¤ã‚’æŒã¤åˆ¥ã®é…åˆ—ã‚’ä½œæˆã™ã‚‹ã¨ããªã©ã«ä¾¿åˆ©ã§ã™ã€‚

```js
const abc = ['a', 'b', 'c'];
const a123 = ['1', '2', '3', ...abc];
console.log(a123); // -> [ "1", "2", "3", "a", "b", "c" ]
```

#### ã‚¯ãƒ©ã‚¹å®šç¾©

function ã§ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿é–¢æ•°ã¨ã—ã¦æ›¸ãã“ã¨ã«ã‚ˆã‚Šã€ã‚¯ãƒ©ã‚¹ã£ã½ã„äº‹ã¯ã§ãã¾ã—ãŸã€‚

ã—ã‹ã—ã€ç‰¹åˆ¥ãªå®£â¾”ã‚‚ãªãé€šå¸¸ã®é–¢æ•°ã¨ã®é•ã„ãŒã‚ã‹ã‚‰ãªã„ã“ã¨ã‹ã‚‰ã€èª¤ã£ã¦é€šå¸¸é–¢æ•°ã®ã‚ˆã†ã«ä½¿ã£ã¦ã—ã¾
ã†ã¨ã€ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ãªã‚‰ã¾ã ã—ã‚‚ã€å ´åˆã«ã‚ˆã£ã¦ã¯ã‚¨ãƒ©ãƒ¼ã«ã‚‚ãªã‚‰ãšå¤‰ãªå‹•ä½œã‚’ã—ã¦ã—ã¾ã†ã“ã¨ã‚‚ã‚ã‚Šå¾—
ã¾ã™ã€‚

class ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆãŒè¿½åŠ ã•ã‚ŒãŸã“ã¨ã§ã€ã“ã‚Œã‚’åˆ©â½¤ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã—ã‚‡ã†ã€‚

ãŸã ã—Javaã‚„C#ç•°ãªã‚Šã€ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã®ä¸­ã§å®šç¾©ã—ã¾ã™ã€‚

```js
class Polygon {
// height = 0 // ã“ã‚“ãªäº‹ã¯ã§ããªã„
// ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿
  constructor(height, width) {
    this.height = height;
    this.width = width;
  }
  // getter
  get area() {
    return this.#calcArea();
  }
  // private ãƒ¡ãƒ³ãƒã«ã¯ '#' ã‚’ä»˜ã‘ã‚‹
  #calcArea() {
    return this.height * this.width;
  }
}
let square = new Polygon(10, 10);
console.log(square.area);
// 100
```

#### ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«ãƒ»ãƒã‚§ã‚¤ãƒ‹ãƒ³ã‚°æ¼”ç®—å­

ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å‚ç…§ã—ãŸã„å ´åˆã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆè‡ªèº«ãŒ null / undefined ã®åˆ¤æ–­ã‚’ã™ã‚‹ã“ã¨ã¯å¤šã„ã‹ã¨æ€ã„ã¾ã™ã€‚

ãã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã€null / undefined ã®å¯èƒ½æ€§ãŒã‚ã‚‹å ´åˆã€ã•ã‚‰ã«ãã®åˆ¤æ–­ã‚’ã™ã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ãŒã€if ãŒå†—é•·çš„ã«ãªã‚Šã¾ã™ã€‚

```js
let name = '';
if (session) {
  if (session.user) {
    name = obj.user.name;
  }
}
```

ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«ãƒ»ãƒã‚§ã‚¤ãƒ‹ãƒ³ã‚°æ¼”ç®—å­ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€å®Œçµã«æ›¸ãã“ã¨ãŒã§ãã¾ã™ã€‚

```js
const name = obj?.user?.name; // obj ã‹ã€obj.user ãŒ null/undefined ã®å ´åˆã€undefined ã‚’è¿”ã—ã¾ã™ã€‚
```

#### Promise / async / await

Promise ã¯éåŒæœŸå‡¦ç†é–¢æ•°ã§ä½¿ç”¨ã•ã‚Œã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚

Promise ä»¥å‰ã¯ã€éåŒæœŸå‡¦ç†ãŒå®Œäº†ã—ãŸã¨ãã®é–¢æ•°ï¼ˆã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°ï¼‰ã‚’å¼•æ•°ã§æ¸¡ã—ã¦ã„ã¾ã—ãŸã€‚

ã‚ã‚‹éåŒæœŸé–¢æ•°ã®å¾Œã«åˆ¥ã®éåŒæœŸé–¢æ•°ã‚’å®Ÿè¡Œã™ã‚‹ã€ã¨ã„ã†ã“ã¨ã‚‚å°‘ãªããªãã€ã“ã®ã‚ˆã†ãªå ´åˆã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°ãŒå…¥ã‚Œå­ã«ãªã£ã¦ã—ã¾ã„ã€ã‚³ãƒ¼ãƒ‰ã®è¦‹é€šã—ãŒéå¸¸ã«æ‚ªããªã‚Šã¾ã™ã€‚ä¿—ã«ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°åœ°ç„ã€ã¨è¨€ã‚ã‚Œã¦ã„ã¾ã™ã€‚

```js
asyncFn1((data1) => {
    asyncFn2((data2) => {
        asyncFn3((data3) => {
            asyncFn4((data4) => {
                //å‡¦ç†
            });
        });
    }); 
});
```

éåŒæœŸé–¢æ•°ãŒã€Promise ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿”ã™ã‚ˆã†ã«æ”¹å–„ã™ã‚‹ã¨ã€ä¸‹è¨˜ã®ã‚ˆã†ã«ãƒ¡ã‚½ãƒƒãƒ‰ãƒ»ãƒã‚§ãƒ¼ãƒ³ã®å½¢ã§æ›¸ãã“ã¨ãŒã§ãã¾ã™ã€‚

```js
asyncFn1()
  .then((data1) => { return asyncFn2(); })
  .then((data2) => { return asyncFn3(); })
  .then((data3) => { return asyncFn4(); })
  .then((data4) => { /* å‡¦ç† */  })
  .catch((e) => {
    /* ä¸Šã®ã„ãšã‚Œã‹ã§ä¾‹å¤–ãŒç™ºç”Ÿã—ãŸå ´åˆã«ã€catch ãŒå‡¦ç†ã•ã‚Œã‚‹ */
  });
```

Promise ã‚’è¿”ã™éåŒæœŸé–¢æ•°ã‚’ä½œæˆã™ã‚‹ã«ã¯ã€new Promise ã¨ã—ã¦Promiseã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚å¼•æ•°ã«å‡¦ç†ã®é–¢æ•°ã‚’å®šç¾©ã—ã¾ã™ã€‚æˆåŠŸæ™‚ã«ã¯ resolveï¼ˆé–¢æ•°ã®ç¬¬1å¼•æ•°ï¼‰ã€å¤±æ•—æ™‚ã« rejectï¼ˆé–¢æ•°ã®ç¬¬2ã«å¼•æ•°ï¼‰ ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚ 

```js
const asyncFn1 = () => {
  return new Promise((resolve, reject) => {
    let result = true;
    // ä½•ã‹ã—ã‚‰ã®å‡¦ç†
    if (result) { // result ã¯ä½•ã‹ã—ã‚‰ã®å‡¦ç†ã®çµæœãŒå…¥ã£ã¦ã„ã‚‹ã“ã¨ã¨ä»®å®šã™ã‚‹
      resolve(result); // å¼•æ•°ã«ä¸ãˆãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’éåŒæœŸé–¢æ•°ã®æˆ»ã‚Šå€¤ã¨ãªã‚‹
    } else {
      reject(new Error('ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ')); // reject ãŒå‘¼ã°ã‚Œã‚‹ã¨ã€å‘¼ã³å…ƒã® catch ãŒå‡¦ç†ã•ã‚Œã‚‹ã€‚
    }
  })
};
```

async / await ã¯ã€ãƒ¡ã‚½ãƒƒãƒ‰ãƒã‚§ãƒ¼ãƒ³ã®å½¢ã§ã¯ãªã„ã€éåŒæœŸå‡¦ç†é–¢æ•°ã‚’å®Ÿè¡Œã™ã‚‹æ›¸ãæ–¹ã§ã™ã€‚

```js
// await ã‚’ä½¿ç”¨ã™ã‚‹ã«ã¯ã€ãã®é–¢æ•°ãŒ async å®£è¨€ã•ã‚Œã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚
// async å®£è¨€ã—ãŸé–¢æ•°ã¯ã€è‡ªå‹•çš„ã« Promise ã‚’è¿”ã™éåŒæœŸé–¢æ•°ã¨ãªã‚‹ã€‚
const fn = async () => {
  try { // éåŒæœŸå‡¦ç†ã®ä¾‹å¤–(reject)ã¯ã€try ~ catch ã§å‡¦ç†ã§ãã‚‹
    const result = await asyncFn1(); // resolve ã§æ¸¡ã•ã‚ŒãŸå€¤ãŒ result ã«å…¥ã‚‹
    // await ãŒã‚ã‚‹ã¨ asyncFn1 ãŒçµ‚äº†ã™ã‚‹ã¾ã§ã€æ¬¡ã®å‡¦ç†ã«é€²ã¾ãªã„ã€‚
    // asyncFn1 å®Œäº†å¾Œã®å‡¦ç†
    // ...
    return obj; // return ã—ãŸå€¤ãŒã€éåŒæœŸé–¢æ•°ã®æˆ»ã‚Šå€¤ã¨ãªã‚‹ã€‚Promise ã§ã® resolve ã¨åŒã˜
  } catch (e) {
    throw e;
  }
};
```

#### é…åˆ—ã®ãƒ¡ã‚½ãƒƒãƒ‰ã®æ‹¡å¼µ

é…åˆ—ï¼ˆArray) ã‚’é †æ¬¡ã«å‡¦ç†ã™ã‚‹å ´åˆã€for ã‚’ä½¿ã†ã“ã¨ãŒå¤šã„ã§ã—ã‚‡ã†ã€‚ES2015 ä»¥é™ã§ã¯ã€é…åˆ—ã®ãƒ¡ã‚½ãƒƒãƒ‰ãŒæ‹¡å¼µã•ã‚Œã€é–¢æ•°ã§é †æ¬¡å‡¦ç†ã‚’æ›¸ãã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚

ã“ã“ã§ã¯ãã®ä¸€éƒ¨ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚

```js
const users = [
  { age: 10, name: 'taro'},
  { age: 20, name: 'jiro'},
  { age: 30, name: 'hanako'},
];

// age ãŒ20ä»¥ä¸Šã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æŠœãå‡ºã™

const over20 = users.filter((user) => user >= 20); // (user) => { return user >= 20 } ã¨åŒã˜æ„å‘³ã§ã™
console.log(over20); // [  { age: 20, name: 'jiro'},  { age: 30, name: 'hanako'} ]

// æ¡ä»¶ã«ã‚ã£ãŸã‚‚ã®ã‚’ï¼‘ã¤æŠ½å‡ºã™ã‚‹

const taroUser = users.find((user) => user.name === 'taro');
console.log(taroUser); // { age: 10, name: 'taro'}

// é…åˆ—å†…ã«æ¡ä»¶ã«åˆã†ã‚‚ã®ãŒå«ã¾ã‚Œã‚‹ã‹ã©ã†ã‹

const exist = users.includes((user) => user.name === 'saburo');
console.log(exist); // false

// é…åˆ—ã‹ã‚‰ã€åˆ¥ã®é…åˆ—ã‚’ç”Ÿæˆã™ã‚‹ã€‚

const displayList = users.map((user) => `åå‰:${user.name} / å¹´é½¢:${user.age}`);
console.log(displayList); // ["åå‰:taro / å¹´é½¢:10", "åå‰:jiro / å¹´é½¢:20", "åå‰:hanako / å¹´é½¢:30"]

// é…åˆ—ã®å€¤ã‚’è“„ç©ã—ã¦ã€å˜ä¸€ã®æˆ»ã‚Šå€¤ã‚’è¿”ã™

const nameChain = users.reduce((accumulator, user) => `${accumulator} / [${user.name}]` );
console.log(nameChain); // "/ [jiro] / [hanako]"

// ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ä½¿ã£ã¦é…åˆ—ã®ä¸€éƒ¨ã‚’æŠœãå‡ºã™ï¼ˆå…ƒã®é…åˆ—ã«å¤‰åŒ–ã¯ãªã„ï¼‰

const a2 = users.slice(1, 2); // ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ 1 ã‹ã‚‰ ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ 2 ã¾ã§ã‚’å–ã‚Šå‡ºã™
console.log(a2); // [{ age: 20, name: "jiro" }, { age: 30, name: "hanako" }]
const last = users.slice(-1); // æœ€å¾Œã®1ã¤ç›® ã‹ã‚‰ 1ã¤å–ã‚Šå‡ºã™ = é…åˆ—ã®æœ€å¾Œã®é …ç›®ã ã‘å–ã‚Šå‡ºã™
console.log(last); // [{ age: 30, name: "hanako" }]

// é…åˆ—ã‚’é †æ¬¡å‡¦ç†ã™ã‚‹

users.forEach((user) => {
  // user ã‚’ä½¿ã£ãŸå‡¦ç†
  console.log(user);
})

// ä»¥ä¸‹ã¯ç ´å£Šçš„ãƒ¡ã‚½ãƒƒãƒ‰
// é…åˆ—ã®æŒ‡å®šã—ãŸã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã«è¦ç´ ã‚’è¿½åŠ ã™ã‚‹
users.splice(1, 0, { age: 40, name: 'saburo'});
console.log(user); // [{"age":10,"name":"taro"},{"age":40,"name":"saburo"},{"age":20,"name":"jiro"},{"age":30,"name":"hanako"}]
// é…åˆ—ã‹ã‚‰æŒ‡å®šã—ãŸã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’å‰Šé™¤ã™ã‚‹
users.splice(2, 1);
console.log(user); // [{"age":10,"name":"taro"},{"age":40,"name":"saburo"}, {"age":30,"name":"hanako"}]
```

#### æœ«å°¾ã®ã‚«ãƒ³ãƒ

ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒªãƒ†ãƒ©ãƒ«ã‚„é…åˆ—ãƒªãƒ†ãƒ©ãƒ«ã€é–¢æ•°ã®å¼•æ•°ã§ã€æœ€å¾Œã®é …â½¬ã®å¾Œã«ã‚«ãƒ³ãƒãŒä»˜ã‘ã‚‰ã‚Œã¾ã™ã€‚

å¾Œã«è¦ç´ ã‚’â¾œã—ãŸã‚Šã€é †ç•ªã‚’â¼Šã‚Œæ›¿ãˆãŸã‚Šã™ã‚‹ã¨ãã«ã€ã‚«ãƒ³ãƒã‚’ä»˜ã‘ãŸã‚Šå–ã£ãŸã‚Šã™ã‚‹â¼¿é–“ãŒçœã‹ã‚Œã‚‹ã§ãªã‚‹ã¹ãã¤ã‘ã¦ãŠãã®ãŒè‰¯ã„ã¨æ€ã„ã¾ã™ã€‚

eslint ãªã©ã§ã¯å¿…é ˆã®ãƒ«ãƒ¼ãƒ«ã¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```js
let obj = {
name: 'ebihara',
age: 29, // OK
};
let arr = [ 1, 2, 3, ]; // ã“ã‚Œã‚‚OK
let fn = (a, b, c,) { /* ... */ } // ä»•æ§˜ä¸Šã¯OKã ãŒã€å¯¾å¿œãƒ–ãƒ©ã‚¦ã‚¶ãŒé™ã‚‰ã‚Œã‚‹
```

### TypeScript

TypeScript ã¯ã€æœ€æ–°ã® ECMAScript ã®å¯¾å¿œã‚’ç©æ¥µçš„ã«è¡Œã£ã¦ã„ã‚‹ã®ã§ã€ä¸Šã§æŒ™ã’ãŸ ECMAScript ã®ä»•æ§˜ã¯ãã®ã¾ã¾ä½¿ãˆã¾ã™ã€‚

ã“ã‚Œã«åŠ ãˆã¦ã€å‹å®šç¾©ã«é–¢ã™ã‚‹æ§˜ã€…ãªä»•æ§˜ãŒè¿½åŠ ã•ã‚Œã¦ã„ã¾ã™ã€‚

#### å¤‰æ•°ã®å‹æŒ‡å®š

let ã‚„ const ã®å¤‰æ•°ã«å‹ã‚’æŒ‡å®šã§ãã¾ã™ã€‚å‹é•åã®ä»£å…¥ã¯ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ã€‚

```ts
let num: number = 0;
const str: string = "aa";
str = 0; // ã‚¨ãƒ©ãƒ¼
```

é–¢æ•°ã®å¼•æ•°ã‚„æˆ»ã‚Šå€¤ã«ã‚‚å‹ã‚’æŒ‡å®šã§ãã¾ã™ã€‚

```ts
const fn = (num: number): string => {
  return `num:${num}`;ã€€OK // string ã§ãªã„ return ã ã¨ã‚¨ãƒ©ãƒ¼
};
const result = fn("0"); // å¼•æ•°ã®å‹ãŒé•ã†ãŸã‚ã‚¨ãƒ©ãƒ¼
console.log(result.length); // result ã¯æ–‡å­—åˆ—ã§ã‚ã‚‹ã“ã¨ãŒç¢ºå®šã—ã¦ã„ã‚‹ãŸã‚ã€å®‰å¿ƒã—ã¦ .length ãŒä½¿ãˆã‚‹
```

#### Unionå‹

JavaScript ã§ã¯ã€å¤‰æ•°ã«æ–‡å­—ãŒå…¥ã£ãŸã‚Šæ•°å€¤ãŒå…¥ã£ãŸã‚Šã€ã¨ã„ã£ãŸã‚ˆã†ã«è¤‡æ•°ã®å‹ã‚’å–ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚

ãã®ã‚ˆã†ãªå ´åˆã¯ã€Union å‹ãŒåˆ©ç”¨ã§ãã¾ã™ã€‚

ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯å…±é€šã®ã‚‚ã®ãŒã‚ã‚Œã°ãã®ã¾ã¾åˆ©ç”¨ã§ãã¾ã™ãŒã€

```ts
const getYear = (date: Date | number) => {
  console.log(date.toString()); // toString ã¯ Date, number ã©ã¡ã‚‰ã‚‚æŒã£ã¦ã„ã‚‹ã®ã§ã‚­ãƒ£ã‚¹ãƒˆãŒå¿…è¦ãªã„
  // console.log(date.getFullYear()); // number ã« getYear ãŒãªã„ã®ã§ã‚¨ãƒ©ãƒ¼ å‹ãƒã‚§ãƒƒã‚¯ã‹ã‚­ãƒ£ã‚¹ãƒˆãŒå¿…è¦
  if (typeof date === "number") {
    const d = new Date();
    d.setTime(date);ã€€ // å‹ãƒã‚§ãƒƒã‚¯ã«ã‚ˆã‚Šã€date ã¯ number ã«ç¢ºå®šã—ã¦ã„ã‚‹
    return d.getFullYear()
  } else {
    return date.getFullYear(); // å‹ãƒã‚§ãƒƒã‚¯ã«ã‚ˆã‚Šã€date ã¯ã€Date ã«ç¢ºå®šã—ã¦ã„ã‚‹
  }
}
``` 

#### æ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«å‹

ã‚ã‚‹å¤‰æ•°ã¯æ–‡å­—åˆ—ã ã‘ã©å…¥ã‚‹æ–‡å­—åˆ—ã®ç¨®é¡ã¯æ±ºã¾ã£ã¦ã„ã‚‹ã€ã¨ã„ã†å ´åˆãŒå¤šã„ã§ã™ã€‚

ä¾‹ãˆã°ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’è¡¨ã™æƒ…å ±ã¨ã—ã¦ã€'create','processing','complete' ã¨æ±ºã¾ã£ã¦ã„ã‚‹ã¨ã„ã†å ´åˆãªã©ã§ã™ã€‚

ã“ã‚Œã¯ã€æ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«å‹ã® Unionå‹ ã¨ã—ã¦å®šç¾©ã§ãã¾ã™ã€‚

```ts
let status: 'create' | 'processing' | 'complete' = 'create';
status = 'procesing'; // ã‚¨ãƒ©ãƒ¼ ã‚¿ã‚¤ãƒ—ãƒŸã‚¹ã‚’é˜²ãã“ã¨ãŒã§ãã‚‹
```

æ–‡å­—åˆ—ã ã‘ã§ãªãã€æ•°å€¤ã‚‚ã„ã‘ã¾ã™ã€‚

```ts
let status: 0 | 1 | 2 = 0;
status = 3; // ã‚¨ãƒ©ãƒ¼
```

#### ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå‹

Java ã‚„ C# ã®ã‚ˆã†ã«ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å‹ï¼ˆinterfaceï¼‰ã‚’å®šç¾©ã§ãã¾ã™ã€‚

interface æ§‹æ–‡ã¨ã€type æ§‹æ–‡ãŒã‚ã‚Šã¾ã™ã€‚

```ts
interface User {
  name: string;
  age: number;
}
type UserType = {
  name: string;
  age: number;
};
const user: User = {
  // å®£è¨€ã—ã¦ã„ã‚‹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒãªã‹ã£ãŸã‚Šã€å®£è¨€ã«ãªã„ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒã‚ã‚‹ã¨ã‚¨ãƒ©ãƒ¼
  name: 'ebihara',
  age: "47", // å‹é•åã«ã‚ˆã‚Šã‚¨ãƒ©ãƒ¼
  address: "", // ã‚ªãƒ–ã‚¨ã‚¯ãƒˆå‹ã«ãªã„ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãªã®ã§ã‚¨ãƒ©ãƒ¼
};
// type ã§å®£è¨€ã—ãŸæ–¹ã‚‚åŒæ§˜ã«ä½¿ãˆã‚‹
const tUser: UserType =  {
  name: 'ebihara',
  age: 47,
};
```

interface ã¨ type ã®é•ã„ã§ã™ãŒã€ã§ãã‚‹ã“ã¨ã¯ã»ã¨ã‚“ã©åŒã˜ã§ã™ã€‚interface ã¯ã€extends ã§æ‹¡å¼µã§ãã‚‹ã‚¢ãƒ‰ãƒãƒ³ãƒ†ãƒ¼ã‚¸ãŒã‚ã‚Šã¾ã—ãŸãŒã€type ã§ã‚‚å‹ã®ãƒãƒ¼ã‚¸ã‚’ã™ã‚‹ã“ã¨ã§æ‹¡å¼µã¨åŒã˜ã‚ˆã†ãªã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

```ts
interface User {
  name: string;
  age: number;
}
type UserType = {
  name: string;
  age: number;
};

interface ExUser extends User { // User ã‚’æ‹¡å¼µ
  address?: string;
}

type ExUserType = UserType & { // å‹ã‚’ãƒãƒ¼ã‚¸
  address?: string;
};

const user: ExUser = {
  name: 'ebihara',
  age: 47,
  address: "kagoshima",
};
// type ã§å®£è¨€ã—ãŸæ–¹ã‚‚åŒæ§˜ã«ä½¿ãˆã‚‹
const tUser: ExUserType =  {
  name: 'ebihara',
  age: 47,
  address: "kagoshima",
};
```

override ã«ã¤ã„ã¦ã€interface ã¯ è¦ªã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å‹ã‚’å¤‰æ›´ã§ããªã„ãªã©å³å¯†ã§ã™ãŒã€type ã®æ–¹ãŒå˜ç´”ãªä¸Šæ›¸ããªã®ã§ãƒ«ãƒ¼ã‚ºãªæ‹¡å¼µã«ãªã‚Šã¾ã™ã€‚

ã¾ãŸã€type ã§ã¯ Unionå‹ ã‚„ å¾Œè¿°ã™ã‚‹ã€é–¢æ•°å‹ ã‚‚å®šç¾©ã§ãã¾ã™ã€‚

```ts
type date = Date | string;
type FnType = (date: Date | number) => string;
```

Java ã®ã‚ˆã†ã«å³å¯†ã«ç®¡ç†ã—ãŸã„å ´åˆã¯ã€interface ãŒè‰¯ã„ã§ã™ãŒã€æœ€è¿‘ã§ã¯æ‰±ã„ãŒæ¥½ãª type ã‚’å¥½ã‚€äººãŒå¤šã„ã‚ˆã†ã§ã™ã€‚

ç­†è€…ã‚‚ã€Java ã¨ä¼¼ãŸã‚ˆã†ãªç®¡ç†ãŒã§ãã‚‹ interface ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã—ãŸãŒã€æœ€è¿‘ã§ã¯ type ã‚’å¤šç”¨ã™ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

[interfaceã¨typeã®é•ã„ã€ãã—ã¦ä½•ã‚’ä½¿ã†ã¹ãã‹ã«ã¤ã„ã¦](https://zenn.dev/luvmini511/articles/6c6f69481c2d17#3.-%E3%81%A9%E3%81%A1%E3%82%89%E3%82%92%E4%BD%BF%E3%81%86%EF%BC%9F)

#### é–¢æ•°å‹

é–¢æ•°è‡ªä½“ã‚‚å‹å®šç¾©ã§ãã¾ã™ã€‚é–¢æ•°ã®å‹ã¨ã¯ã€å¼•æ•°ã®æ•°ã¨ãã‚Œãã‚Œã®å‹ã¨é–¢æ•°ã®æˆ»ã‚Šå€¤ã§ã™ã€‚

ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°ã‚’æŒã¤æ±ç”¨çš„ãªé–¢æ•°ã‚’ä½œæˆã™ã‚‹ã¨ããªã©ã«ä¾¿åˆ©ã§ã™ã€‚

```ts
type CallBackFnType = (date: Date | number) => string;

const fn: FnType = (date) => { // å¼•æ•°ã®æŒ‡å®šã‚’ã—ãªãã¦ã‚‚å‹å®šç¾©ã«ã‚ˆã‚ŠæŒ‡å®šã•ã‚Œã¦ã„ã‚‹ã®ã§å¿…è¦ãªã„
  return date.toString(); // string ã‚’return ã—ãªã„ã¨ ã‚¨ãƒ©ãƒ¼ã¨ãªã‚‹ã€‚
};
```

#### å‹æ¨è«–

å‹æŒ‡å®šã—ãªãã¦ã‚‚ã€å¤‰æ•°ã®å®£è¨€æ™‚ã«ä»£å…¥ã—ãŸå‹ã‹ã‚‰ã€å¤‰æ•°ã®å‹ã‚’è‡ªå‹•çš„ã«åˆ¤åˆ¥ã—ã¾ã™ã€‚

ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒªãƒ†ãƒ©ãƒ«ã«ã¤ã„ã¦ã‚‚ã€ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¨ãã‚Œãã‚Œã®å‹ãŒè‡ªå‹•åˆ¤åˆ¥ã•ã‚Œã¾ã™ã€‚

```ts
let n = 0;
n = "1"; // ã‚¨ãƒ©ãƒ¼ n ã¯æ•°å€¤å‹ã«ãªã£ã¦ã„ã‚‹

const user = { name: 'ebiahra', age: 47 };
user.name = 1; // ã‚¨ãƒ©ãƒ¼ name ã¯æ–‡å­—åˆ—ã®ãŸã‚
user.address = ""; // ã‚¨ãƒ©ãƒ¼ address ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯ãªã„ãŸã‚
```

#### æ–‡å­—åˆ—ã‚¤ãƒ³ãƒ‡ã‚¯ã‚µ

v["key"] ã®ã‚ˆã†ã«ã—ã¦ãƒ¡ãƒ³ãƒã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹å‹ã‚’å®£â¾”ã§ãã‚‹ã€‚Javaã®Mapå‹ã®ã‚ˆã†ãªã‚‚ã®ã€‚

```ts
const status: {[code: string]: string} = {
'00': 'åˆæœŸ',
'10': 'ç”³è«‹ä¸­',
'20': 'æ‰¿èªæ¸ˆ',
};
status['30'] = 'å»ƒæ£„';
console.log(status['00']); // -> "åˆæœŸ"
```

#### ã‚¯ãƒ©ã‚¹

ES20xx ã§èª¬æ˜ã—ãŸã‚¯ãƒ©ã‚¹ãŒã€TypeScript ã§ã‚‚ä½¿ãˆã¾ã™ãŒã€ã‚ˆã‚Šä½¿ã„ã‚„ã™ããªã£ã¦ã„ã¾ã™ã€‚

```ts
class User {
  // constructor å¤–ã§ã®åˆæœŸåŒ–ãŒå¯èƒ½
  familyName = '';
  givenName = '';
  age: number | null = null;
  gender: 'male' | 'female' | null = null;
  constructor() {
    // åˆæœŸåŒ–å‡¦ç†
  }
  public getDisplayName () {
    return `${this.familyName} ${this.givenName}`;
  }
  private lastAccessDate: Date | null = null; // å¤–ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„
  public setLastAccessDate(date: Date) { // æ˜ç¤ºçš„ã«å…¬é–‹
    this.lastAccessDate = date;
  }
  public readonly authority: string = "admin"; // èª­ã¿å–ã‚Šå°‚ç”¨ã§å…¬é–‹
}
```

#### ã‚¸ã‚§ãƒãƒªãƒƒã‚¯å‹

ã‚¸ã‚§ãƒãƒªãƒƒã‚¯å‹ã¯ã€ã‚¯ãƒ©ã‚¹ã‚„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€é–¢æ•°ã«å¤–éƒ¨ã‹ã‚‰å‹ã‚’ä¸ãˆã‚‰ã‚Œã‚‹äº‹ãŒã§ãã‚‹æ©Ÿèƒ½ã§ã™ã€‚

Java ã‚„ C# ãªã©ã§ã‚‚åŒæ§˜ã®æ©Ÿèƒ½ãŒã‚ã‚Šã¾ã™ã€‚

ã“ã®æ©Ÿèƒ½ã¯ã€æ±ç”¨çš„ãªãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãªã©ã‚’ä½œã‚‹ã¨ãã«ä¾¿åˆ©ã§ã™ã€‚

ä¾‹ãˆã°ã“ã®ã‚³ãƒ¼ãƒ‰ã¯ã€ãƒªãƒ³ã‚°ãƒãƒƒãƒ•ã‚¡ã‚’å®Ÿç¾ã™ã‚‹ã‚¯ãƒ©ã‚¹ã§ã™ãŒã€ãƒãƒƒãƒ•ã‚¡ã¨ã—ã¦ç®¡ç†ã™ã‚‹å€¤ã¯ã€ä½¿ã†å´ãŒæ±ºã‚ã‚‹ã‚ˆã†ã«ã™ã‚‹ã‚‚ã®ã§ã™ã€‚

```ts
class RingBuffer<T> {
  private buffer: T[] = [];
  private bufferSize = 100;
  public currentIndex = -1;
  public constructor(){
    this.buffer = Array(100);
  }
  public push(value: T) { // é…åˆ—ã«è¿½åŠ ã™ã‚‹ T ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æ¸¡ã™
    // ã‚«ãƒ¬ãƒ³ãƒˆãŒçµ‚ç«¯ã®å ´åˆã¯ã€å…ˆé ­ã«æˆ»ã‚‹
    this.currentIndex++;
    if (this.currentIndex > this.bufferSize) {
      this.currentIndex = 0;
    }
    this.buffer[this.currentIndex] = value;
  }
  public getCurrent() {
    return this.buffer[this.currentIndex]; // T ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒè¿”ã‚‹
  }
}

type UserType = {
  name: string;
  age: number;
};

const ringBuffer = new RingBuffer<UserType>();

ringBuffer.push({
  age: "20", // ã‚¨ãƒ©ãƒ¼ ã‚¸ã‚§ãƒãƒªãƒƒã‚¯å‹ã«æŒ‡å®šã—ãŸå‹ã¨ã“ã¨ãªã‚‹
  name: 'taro',
});
```

#### ã‚¿ãƒ—ãƒ«å‹

é€šå¸¸é…åˆ—ã¯ã€ãã®ä¸­ã®å€¤ã¯å˜ä¸€ã®å‹ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã‚ã‚‹ã“ã¨ãŒæœ›ã¾ã—ã„ã§ã™ã€‚

ãŸã ã€ä¾‹ãˆã°é–¢æ•°ã®æˆ»ã‚Šå€¤ã§ã€è¤‡æ•°ã®å€¤ã‚’è¿”ã—ãŸã„å ´åˆã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã‚‚è‰¯ã„ã®ã§ã™ãŒã€æ•°ãŒå°‘ãªã„å ´åˆã€é…åˆ—ã¨ã—ã¦1ç•ªç›®ã«æ–‡å­—åˆ—ã€2ç•ªã‚ã«æ•°å€¤ ãªã©æ±ºã¾ã£ãŸæ•°ã¨é †ç•ªã§è¿”ã™ã‚ˆã†ã«ã™ã‚‹ã¨ã€ä¾¿åˆ©ã§ã™ã€‚

ãã®ã‚ˆã†ã«ã€é…åˆ—ã®æ•°ã¨é †ç•ªãŒæ±ºã¾ã£ã¦ã„ã‚‹å ´åˆã€ãã‚Œã‚’å‹ã¨ã—ã¦å®šç¾©ã§ãã¾ã™ã€‚ãã‚Œã‚’ã‚¿ãƒ—ãƒ«å‹ã¨ã„ã„ã¾ã™ã€‚

```ts
const createLog = (message: string): [Date, string] => {
  return [new Date(), `S:${message}`]
};
const [date, message] = createLog('test');
console.log(date.toISOString); // -> ISO8601 å½¢å¼æ—¥ä»˜ 
console.log(message); // -> "S:test"
```

#### Utility Types

ã“ã‚Œã¯ç´”ç²‹ãªå‹ã§ã¯ãªãã€å®šç¾©ã•ã‚Œã¦ã„ã‚‹å‹ã‚’å…ƒã«ã€å¤‰æ›´ã—ãŸåˆ¥ã®å‹ã‚’ç”Ÿæˆã™ã‚‹ã‚‚ã®ã§ã™ã€‚

[ã€TypeScriptã€‘Utility Typesã‚’ã¾ã¨ã‚ã¦ç†è§£ã™ã‚‹ - Qiita](https://qiita.com/k-penguin-sato/items/e2791d7a57e96f6144e5)

Omit ã‚„ Partial ãŒã‚ˆãä½¿ã‚ã‚Œã¾ã™ã€‚

Omit ã¯æŒ‡å®šã—ãŸãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å‰Šé™¤ã—ã¾ã™ã€‚Partial ã¯å…¨ã¦ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’Optionalï¼ˆundefined ã®å¯èƒ½æ€§ãŒã‚ã‚‹ = ãªãã¦ã‚‚è‰¯ã„ï¼‰ã«ã—ã¾ã™ã€‚

```ts
type UserType = {
  name: string;
  age: number;
};

type AgeOnly = Omit<UserType, 'name'>; // { age: number } ã ã‘ã®å‹ã¨ãªã‚‹

type PartialUser = Partial<UserType>; // { name?: string, age?: string } ã¨ãªã‚Šã¾ã™

```
